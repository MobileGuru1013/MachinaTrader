!function(a){"function"==typeof define&&define.amd?define("jquery.validate.unobtrusive",["jquery-validation"],a):"object"==typeof module&&module.exports?module.exports=a(require("jquery-validation")):jQuery.validator.unobtrusive=a(jQuery)}(function(s){function o(a,e,n){a.rules[e]=n,a.message&&(a.messages[e]=a.message)}function d(a){return a.replace(/([!"#$%&'()*+,.\/:;<=>?@\[\\\]^`{|}~])/g,"\\$1")}function l(a){return a.substr(0,a.lastIndexOf(".")+1)}function u(a,e){return 0===a.indexOf("*.")&&(a=a.replace("*.",e)),a}function m(a){var e=s(this),n="__jquery_unobtrusive_validation_form_reset";if(!e.data(n)){e.data(n,!0);try{e.data("validator").resetForm()}finally{e.removeData(n)}e.find(".validation-summary-errors").addClass("validation-summary-valid").removeClass("validation-summary-errors"),e.find(".field-validation-error").addClass("field-validation-valid").removeClass("field-validation-error").removeData("unobtrusiveContainer").find(">*").removeData("unobtrusiveContainer")}}function f(t){var a=s(t),e=a.data(p),n=s.proxy(m,t),i=v.unobtrusive.options||{},r=function(a,e){var n=i[a];n&&s.isFunction(n)&&n.apply(t,e)};return e||(e={options:{errorClass:i.errorClass||"input-validation-error",errorElement:i.errorElement||"span",errorPlacement:function(){(function(a,e){var n=s(this).find("[data-valmsg-for='"+d(e[0].name)+"']"),t=n.attr("data-valmsg-replace"),i=t?!1!==s.parseJSON(t):null;n.removeClass("field-validation-valid").addClass("field-validation-error"),a.data("unobtrusiveContainer",n),i?(n.empty(),a.removeClass("input-validation-error").appendTo(n)):a.hide()}).apply(t,arguments),r("errorPlacement",arguments)},invalidHandler:function(){(function(a,e){var n=s(this).find("[data-valmsg-summary=true]"),t=n.find("ul");t&&t.length&&e.errorList.length&&(t.empty(),n.addClass("validation-summary-errors").removeClass("validation-summary-valid"),s.each(e.errorList,function(){s("<li />").html(this.message).appendTo(t)}))}).apply(t,arguments),r("invalidHandler",arguments)},messages:{},rules:{},success:function(){(function(a){var e=a.data("unobtrusiveContainer");if(e){var n=e.attr("data-valmsg-replace"),t=n?s.parseJSON(n):null;e.addClass("field-validation-valid").removeClass("field-validation-error"),a.removeData("unobtrusiveContainer"),t&&e.empty()}}).apply(t,arguments),r("success",arguments)}},attachValidation:function(){a.off("reset."+p,n).on("reset."+p,n).validate(this.options)},validate:function(){return a.validate(),a.valid()}},a.data(p,e)),e}var a,v=s.validator,p="unobtrusiveValidation";return v.unobtrusive={adapters:[],parseElement:function(t,a){var e,i,r,o=s(t),d=o.parents("form")[0];d&&((e=f(d)).options.rules[t.name]=i={},e.options.messages[t.name]=r={},s.each(this.adapters,function(){var a="data-val-"+this.name,e=o.attr(a),n={};void 0!==e&&(a+="-",s.each(this.params,function(){n[this]=o.attr(a+this)}),this.adapt({element:t,form:d,message:e,params:n,rules:i,messages:r}))}),s.extend(i,{__dummy__:!0}),a||e.attachValidation())},parse:function(a){var e=s(a),n=e.parents().addBack().filter("form").add(e.find("form")).has("[data-val=true]");e.find("[data-val=true]").each(function(){v.unobtrusive.parseElement(this,!0)}),n.each(function(){var a=f(this);a&&a.attachValidation()})}},(a=v.unobtrusive.adapters).add=function(a,e,n){return n||(n=e,e=[]),this.push({name:a,params:e,adapt:n}),this},a.addBool=function(e,n){return this.add(e,function(a){o(a,n||e,!0)})},a.addMinMax=function(a,t,i,r,e,n){return this.add(a,[e||"min",n||"max"],function(a){var e=a.params.min,n=a.params.max;e&&n?o(a,r,[e,n]):e?o(a,t,e):n&&o(a,i,n)})},a.addSingleVal=function(e,n,t){return this.add(e,[n||"val"],function(a){o(a,t||e,a.params[n])})},v.addMethod("__dummy__",function(a,e,n){return!0}),v.addMethod("regex",function(a,e,n){var t;return!!this.optional(e)||(t=new RegExp(n).exec(a))&&0===t.index&&t[0].length===a.length}),v.addMethod("nonalphamin",function(a,e,n){var t;return n&&(t=(t=a.match(/\W/g))&&t.length>=n),t}),v.methods.extension?(a.addSingleVal("accept","mimtype"),a.addSingleVal("extension","extension")):a.addSingleVal("extension","extension","accept"),a.addSingleVal("regex","pattern"),a.addBool("creditcard").addBool("date").addBool("digits").addBool("email").addBool("number").addBool("url"),a.addMinMax("length","minlength","maxlength","rangelength").addMinMax("range","min","max","range"),a.addMinMax("minlength","minlength").addMinMax("maxlength","minlength","maxlength"),a.add("equalto",["other"],function(a){var e=l(a.element.name),n=u(a.params.other,e);o(a,"equalTo",s(a.form).find(":input").filter("[name='"+d(n)+"']")[0])}),a.add("required",function(a){"INPUT"===a.element.tagName.toUpperCase()&&"CHECKBOX"===a.element.type.toUpperCase()||o(a,"required",!0)}),a.add("remote",["url","type","additionalfields"],function(t){var i={url:t.params.url,type:t.params.type||"GET",data:{}},r=l(t.element.name);s.each((t.params.additionalfields||t.element.name).replace(/^\s+|\s+$/g,"").split(/\s*,\s*/g),function(a,e){var n=u(e,r);i.data[n]=function(){var a=s(t.form).find(":input").filter("[name='"+d(n)+"']");return a.is(":checkbox")?a.filter(":checked").val()||a.filter(":hidden").val()||"":a.is(":radio")?a.filter(":checked").val()||"":a.val()}}),o(t,"remote",i)}),a.add("password",["min","nonalphamin","regex"],function(a){a.params.min&&o(a,"minlength",a.params.min),a.params.nonalphamin&&o(a,"nonalphamin",a.params.nonalphamin),a.params.regex&&o(a,"regex",a.params.regex)}),a.add("fileextensions",["extensions"],function(a){o(a,"extension",a.params.extensions)}),s(function(){v.unobtrusive.parse(document)}),v.unobtrusive});